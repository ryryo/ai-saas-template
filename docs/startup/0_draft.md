# 初回の要件定義まとめ

## 参考サイト
https://21st.dev/
https://preview.themeforest.net/item/vuexy-vuejs-html-laravel-admin-dashboard-template/full_screen_preview/23328599

## 背景と目的
### 概要
今回、githubに公開する目的の元、LaravelによるSaaSソフトウェアを作成するためのテンプレートを作成したいと思います。このGitを使えばあなたもすぐに、AIで作った機能をSaaS化して提供できる!みたいなやつです。
SaaSソフトウェアを作成とはいっても、管理画面の基本的な作成が今回のプロジェクトの目的です。なぜならテンプレートであるため、実際のSaaSとしての機能部分はそのプロジェクトをフォークしたユーザーが各々個別に作成していくからです。とはいえ、サンプルとしてかなりシンプルなSaaS機能も盛り込んでみましょうか。{SaaSのデモ機能}にそれは書いておきます。
SaaSとしては、各ユーザーが自分のサイトにJSを設置することで、webサイトのマーケティングを強化することができる、そしてその計測結果をログイン後のページで確認できるといったかんじを想定しています。なので管理画面上に、設置するjsタグの配布がされているところまでは作成しましょうか。GoogleのGTMのように、設置jsの中にサイトIDがあって、それごとに管理画面上で数値が見れるといった設計にしたいです。ついでに管理画面の情報から、AIから改善アドバイスをもらえる機能もあると良いですね。
またデザイン要素を豊富に備えておきたいと思います。カラースキーマを3種類用意しておいて、ファイルを置き換えれば色が簡単に変更できると良いですね。そしてSaaSの管理画面で使う用なパーツは極力コンポーネント化しておいて、それを参照しながら作成していけるスタイルが理想です。また基本的な要素に関しては、shadcn/uiを採用して、そこに無いものだけを新規で作成しましょう。
デザイン要素の作成にあたって、グラフ表示といった多機能なものに関しては、MITライセンスで有名なライブラリを利用して制作時間を短縮したいです。
今回SaaSとはいえ、ミニマムスタートを想定します。そのため、煩雑になりがちな会員登録・パスワード変更・退会や決済、通知、データのエクスポート といった機能は今回の要件に含めません。その代わりに、スーパーユーザーが画面上でそれらの操作を行うことができるものとします。SaaSとはいっても、最初はすでに取引があるクライアントに向けて、うちで作ったシステム試しにつかってよ、と専用の管理画面とjs発行をする機能だけがあって、請求などはこのシステム外で行うようなイメージですね。
### 構成
Laravel+vue.jsで作成しましょう。

- フロントエンドアーキテクチャ
    - Vue.js 3 + Compositionの採用（最新のベストプラクティス対応）
    - Piniaによる状態管理（Vuexの後継）
    - TypeScriptによる型付け（コード品質向上）
    - コンポーネント設計パターン（Atomic Design等）の明文化
- バックエンド設計
    - Laravel Sanctumによる認証基盤
    - RESTful API設計ガイドライン
    - リポジトリパターンの採用
    - テスト自動化構成
- データベース
    - マイグレーションとシーダーの充実
    - マルチテナント構造の基盤設計
        - 実装方針：単一データベース内でテナントIDによる分離方式を採用
        - テナントの定義：各クライアント企業をテナントとして扱う
        - 全テナント関連テーブルに共通の「tenant_id」カラムを含め、クエリ時に自動フィルタリング
        - LaravelミドルウェアとEloquentのグローバルスコープを活用した自動テナント分離の仕組みを実装
        - 共有データ（プラン情報、グローバル設定等）は専用テーブルで管理
    - 試験データセット

### 機能
今回のプロジェクトでは以下の機能が欲しいです。
- トップページにSaaSっぽいLP
    - 企業のwebマーケティング総合支援AI SaaS みたいなコンセプトで、SaaSのLPによくある要素をすべて踏襲したデザインにしましょう。
- 会員画面機能
    - 一般的な折りたたみ可能なサイドバーがあるレイアウトにしましょう。
    - レスポンシブ対応してください
    - デザインテンプレート/コンポーネントの作成
        - デザインはtailwindを利用してください。
        - 以下のようなデザイン要素を確認できるページも管理画面中に設置しましょう。それを見れるのはスーパーユーザーだけです。
        - グラフ表示に使うライブラリ群の選定
        - コンポーネントの例(これはあくまで例です。過不足があるはずです。)
            - カラースキーマ
                - プライマリカラー：ブランドカラー
                - アクセントカラー：アクション要素用
                - ステータスカラー：成功（緑）、警告（黄）、エラー（赤）、情報（青）
            - 基本レイアウト
                - ナビゲーション
                - カード
                - ボタン
                - アラート
                - バッジ
                - タグ
                - ツールチップ
            - テーブル
            - フォーム関連
                - 入力フィールド：テキスト、数値、日付
                - 選択メニュー：ドロップダウン、ラジオボタン、チェックボックス
                - 検索フィールド：グローバル検索および機能別検索
                - 日付ピッカー
                - トグルスイッチ
            - 基本グラフ
                - 折れ線
                - 棒グラフ
            - ローディング
            - 高度なデータ表示（KPIカード、アクティビティフィード）
            - モーダルとタブ
            - ページネーション
            - アイコン
                - 有名で使いやすいライブラリを使うことにしましょう。
    - ログイン機能
    - スーパーユーザー機能
        - ユーザーの追加/停止/削除/編集の機能
- ドキュメント
    - 公開まわり
        - 公開するものなので、ライセンス周りの表記や、セットアップ時に必要なセキュアな設定については一通りまとめて欲しいです。
        - セキュリティ対策全般の補足
            - CSRFとXSS対策の徹底
            - .envサンプルと安全な設定ガイド
    - セットアップガイド（詳細手順）
    - コンポーネントスタイルガイド（Storybook等）
    - カスタマイズドキュメント
### SaaSのデモ機能
JS設置サイト内でのクリックイベントと離脱行動を追跡するシンプルなコンバージョントラッカーです。
主な機能:
- 特定のIDを持つCTA（Call to Action）要素のクリック率計測
- 設置ページからの離脱時間（バウンス率）の追跡
データはリアルタイムで集計され、管理画面内でグラフや表として表示。サイトオーナーは簡単なタグ設置のみで導入できます。
